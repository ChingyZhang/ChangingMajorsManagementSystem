@model ChangingMajorsManagementSystem.Models.UserInfoModel
<script type="text/javascript">
    $(function () {
        //初始化下拉框
        bodyclick = document.getElementsByTagName('body').item(0);
        init('main');
        rSelects();
        bodyclick.onclick = function () {
            for (i = 0; i < selects.length; i++) {
                $('#select_info_' + selects[i].name).attr("class", "tag_select");
                $('#boxul_' + selects[i].name).css("display", "none");
                //                document.getElementById('select_info_' + selects[i].name).className = 'tag_select';
                //                document.getElementById('boxul_' + selects[i].name).style.display = 'none';
            }
        }

        if ('@ViewData["Msg"]' != "") {
            $('#ui-dialog').html('@ViewData["Msg"]');
            $('#ui-dialog').dialog({
                show: "explode",
                hide: "explode",
                resizable: false,
                title: "提示"
            });
        }
    });

    function confirmAddStu() {
        var inputs = $("#AdmAddStuForm").find("input");
        var flag = true;
        for (var i = 0; i < inputs.length; i++) {

            if ($(inputs[i]).val() == "") {
                //alert($(inputs[i]).attr('id'));
                flag = false;
            }
        }
        if (flag) {
            $("#AdmAddStuForm", $("#PartailAdmAddStu")).submit();
        }
        else {
            alert("除了个人荣誉外,其余都是必填项");
        }
    }
</script>
<div id="PartailAdmAddStu">
    @if (ViewData["major"] == null)
    {
        @Html.Encode("当前无专业数据")
    }
    else
    {
        using (Ajax.BeginForm("AdmAddStu", "Student", null, new AjaxOptions { UpdateTargetId = "ManageUI" }, new { id = "AdmAddStuForm" }))
        {
        <table cellpadding="5px" cellspacing="5px" border="0px">
            <tr>
                <td>
                    @Html.LabelFor(Model => Model.UserNum)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.UserNum)</div>
                </td>
                <td rowspan="6" width="50px">
                </td>
                <td>
                    @Html.LabelFor(Model => Model.UserName)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.UserName)</div>
                </td>
                <td rowspan="6" width="50px">
                </td>
                <td>
                    @Html.LabelFor(Model => Model.UserSex)
                </td>
                <td>
                    <div class="uboxstyle">
                        @Html.DropDownListFor(Model => Model.UserSex, ViewData["sex"] as SelectList)
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    @Html.LabelFor(Model => Model.UserClass)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.UserClass)
                    </div>
                </td>
                <td>
                    @Html.LabelFor(Model => Model.UserArtsScience)
                </td>
                <td>
                    <div class="uboxstyle">
                        @Html.DropDownListFor(Model => Model.UserArtsScience, ViewData["ArtsScience"] as SelectList)</div>
                </td>
                <td>
                    @Html.LabelFor(Model => Model.UserAddress)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.UserAddress)</div>
                </td>
            </tr>
            <tr>
                <td>
                    @Html.LabelFor(Model => Model.UserDemotion)
                </td>
                <td>
                    <div class="uboxstyle">
                        @Html.DropDownList("userDemotion", ViewData["demotion"] as SelectList)
                    </div>
                </td>
                <td>
                    @Html.LabelFor(Model => Model.FiledClass)
                </td>
                <td>
                    <div class="uboxstyle">
                        @Html.DropDownListFor(Model => Model.FiledClass, ViewData["FileClass"] as SelectList)</div>
                </td>
                <td>
                    @Html.LabelFor(Model => Model.UserDisciplinaryAward)
                </td>
                <td>
                    <div class="uboxstyle">
                        @Html.DropDownListFor(Model => Model.UserDisciplinaryAward, ViewData["FileClass"] as SelectList)
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    @Html.LabelFor(Model => Model.LongPhone)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.LongPhone)</div>
                </td>
                <td>
                    @Html.LabelFor(Model => Model.ShortPhone)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.ShortPhone)</div>
                </td>
                <td>
                    @Html.LabelFor(Model => Model.UserDate)
                </td>
                <td>
                    <div class="uboxstyle">
                        @Html.DropDownListFor(Model => Model.UserDate, ViewData["year"] as SelectList)</div>
                </td>
            </tr>
            <tr>
                <td>
                    @Html.LabelFor(Model => Model.MajorName)
                </td>
                <td>
                    <div class="uboxstyle">
                        @Html.DropDownListFor(Model => Model.MajorName, ViewData["major"] as SelectList)</div>
                </td>
                <td>
                    @Html.LabelFor(Model => Model.SysMajorName)
                </td>
                <td>
                    <div class="uboxstyle">
                        @Html.DropDownListFor(Model => Model.SysMajorName, ViewData["major"] as SelectList)
                    </div>
                </td>
                <td>
                    @Html.LabelFor(Model => Model.UserEnglishLevelFour)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.UserEnglishLevelFour)</div>
                </td>
            </tr>
            <tr>
                <td>
                    @Html.LabelFor(Model => Model.UserEnglishLevelSix)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.UserEnglishLevelSix)</div>
                </td>
                <td>
                    @Html.LabelFor(Model => Model.UserCreditWeightedAverage)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.UserCreditWeightedAverage)</div>
                </td>
                <td>
                    @Html.LabelFor(Model => Model.LastMajorNum)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.LastMajorNum)</div>
                </td>
            </tr>
            <tr>
                <td>
                    @Html.LabelFor(Model => Model.MajorRanking)
                </td>
                <td>
                    <div class="input">
                        @Html.TextBoxFor(Model => Model.MajorRanking)</div>
                </td>
            </tr>
            <tr>
                <td valign="top" style="padding-top: 10px;">
                    个人荣誉:
                </td>
                <td colspan="4">
                    <div class="rongyu">
                        <div class="increase_inform_tl">
                            <div class="increase_inform_tr">
                                <div class="increase_inform_tm">
                                </div>
                            </div>
                        </div>
                        <div class="increase_inform_mlr">
                            <div class="increase_inform_mm">
                                @Html.TextAreaFor(Model => Model.Honour)
                            </div>
                        </div>
                        <div class="increase_inform_bl">
                            <div class="increase_inform_br">
                                <div class="increase_inform_bm">
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
                <td colspan="3">
                </td>
            </tr>
        </table>
        <div class="button">
            <a href="#"><span onclick="confirmAddStu();">确定</span></a>
        </div>
        }
    }
</div>
